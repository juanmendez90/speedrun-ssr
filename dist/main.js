!function(e){function t(t){for(var r,i,u=t[0],c=t[1],l=t[2],f=0,d=[];f<u.length;f++)i=u[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={1:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=r);var a,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+""+({}[e]||e)+".bundle.js"}(e),a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,u.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=c;a.push([197,0]),n()}({19:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return c});var r="games/LOAD_GAMES",o="games/LOAD_GAMES_RECEIVED",a="games/LOAD_GAMES_FAILED",i="games/LOAD_GAME",u="games/LOAD_GAME_RECEIVED",c="games/LOAD_GAME_FAILED"},197:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(23),i=n(24),u=n.n(i),c=n(340),l=n(44),s=n(339),f=n(338),d=n(1),p=n.n(d),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.PureComponent),m(t,[{key:"render",value:function(){var e=this.props.route.routes;return o.a.createElement("div",null,o.a.createElement(f.a,{to:"/"},"Games"),Object(s.a)(e))}}]),t}(),b=g;g.propTypes={route:p.a.shape({routes:p.a.arrayOf(p.a.shape({path:p.a.string}))}).isRequired};var h=n(33),y=[{component:b,path:"/",routes:[{path:"/",exact:!0,component:u()({loader:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,346))},loading:h.a})},{path:"/game/:id",component:u()({loader:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,347))},loading:h.a})}]}],v=n(18),O=n(71),E=n(19),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_={isLoading:!1,isLoadingGame:!1,games:[],game:null,error:""},j=Object(v.c)({gamesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],n=t.type,r=t.data;switch(n){case E.b:return w({},e,{isLoading:!0,error:""});case E.d:return w({},e,{isLoading:!1,games:r});case E.c:return w({},e,{isLoading:!1,error:r});case E.a:return w({},e,{isLoadingGame:!0,error:""});case E.f:return w({},e,{isLoadingGame:!1,game:r});case E.e:return w({},e,{isLoadingGame:!1,error:r});default:return e}}}),L={};"undefined"!=typeof window&&(L=window.INITIAL_STATE||{},delete window.INITIAL_STATE);var A=Object(v.d)(j,L,Object(v.a)(O.a));window.main=function(){u.a.preloadReady().then(function(){Object(a.hydrate)(o.a.createElement(l.a,{store:A},o.a.createElement(c.a,null,Object(s.a)(y))),document.getElementById("app"))})}},33:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n.n(r);function a(e){return e.isLoading?e.timedOut?o.a.createElement("div",null,"Loader timed out!"):e.pastDelay?o.a.createElement("div",null,"Loading..."):null:e.error?o.a.createElement("div",null,"Error! Component failed to load"):null}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHV4L2NvbnN0YW50cy9nYW1lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGFpbmVycy9BcHAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUm91dGVyL3JvdXRlc0NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVkdXgvcmVkdWNlcnMvZ2FtZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHV4L3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yZWR1eC9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvTG9hZGluZy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjEiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsImUiLCJwcm9taXNlcyIsImluc3RhbGxlZENodW5rRGF0YSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9uU2NyaXB0Q29tcGxldGUiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0IiwidGltZW91dCIsIm5jIiwic2V0QXR0cmlidXRlIiwic3JjIiwicCIsImpzb25wU2NyaXB0U3JjIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsImVycm9yIiwiRXJyb3IiLCJyZXF1ZXN0IiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsImFwcGVuZENoaWxkIiwiYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsIm9lIiwiZXJyIiwiY29uc29sZSIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiTE9BRF9HQU1FUyIsIkxPQURfR0FNRVNfUkVDRUlWRUQiLCJMT0FEX0dBTUVTX0ZBSUxFRCIsIkxPQURfR0FNRSIsIkxPQURfR0FNRV9SRUNFSVZFRCIsIkxPQURfR0FNRV9GQUlMRUQiLCJBcHAiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJyb3V0ZXMiLCJ0aGlzIiwicHJvcHMiLCJyb3V0ZSIsInJlYWN0X2RlZmF1bHQiLCJhIiwiTGluayIsInRvIiwicmVuZGVyUm91dGVzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJhcnJheU9mIiwicGF0aCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJyb3V0ZXNDb25maWciLCJjb21wb25lbnQiLCJleGFjdCIsIkxvYWRhYmxlIiwibG9hZGVyIiwidGhlbiIsImxvYWRpbmciLCJMb2FkaW5nIiwiaW5pdGlhbFN0YXRlIiwiaXNMb2FkaW5nIiwiaXNMb2FkaW5nR2FtZSIsImdhbWVzIiwiZ2FtZSIsImNvbWJpbmVSZWR1Y2VycyIsImdhbWVzUmVkdWNlciIsInN0YXRlIiwiYXJndW1lbnRzIiwiYWN0aW9uIiwiX2V4dGVuZHMiLCJwcmVsb2FkZWRTdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJjcmVhdGVTdG9yZSIsInJvb3RSZWR1Y2VyIiwiYXBwbHlNaWRkbGV3YXJlIiwicmVkdXhUaHVuayIsIm1haW4iLCJwcmVsb2FkUmVhZHkiLCJoeWRyYXRlIiwiZXMiLCJzdG9yZSIsIkJyb3dzZXJSb3V0ZXIiLCJnZXRFbGVtZW50QnlJZCIsInJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJyZWFjdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJ0aW1lZE91dCIsInBhc3REZWxheSJdLCJtYXBwaW5ncyI6ImFBQ0EsU0FBQUEsRUFBQUMsR0FRQSxJQVBBLElBTUFDLEVBQUFDLEVBTkFDLEVBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUNBSyxFQUFBTCxFQUFBLEdBSUFNLEVBQUEsRUFBQUMsS0FDUUQsRUFBQUgsRUFBQUssT0FBb0JGLElBQzVCSixFQUFBQyxFQUFBRyxHQUNBRyxFQUFBUCxJQUNBSyxFQUFBRyxLQUFBRCxFQUFBUCxHQUFBLElBRUFPLEVBQUFQLEdBQUEsRUFFQSxJQUFBRCxLQUFBRyxFQUNBTyxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBVixFQUFBSCxLQUNBYyxFQUFBZCxHQUFBRyxFQUFBSCxJQUtBLElBRkFlLEtBQUFoQixHQUVBTyxFQUFBQyxRQUNBRCxFQUFBVSxPQUFBVixHQU9BLE9BSEFXLEVBQUFSLEtBQUFTLE1BQUFELEVBQUFiLE9BR0FlLElBRUEsU0FBQUEsSUFFQSxJQURBLElBQUFDLEVBQ0FmLEVBQUEsRUFBaUJBLEVBQUFZLEVBQUFWLE9BQTRCRixJQUFBLENBRzdD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S0gsR0FDSE4sV0FBVyxFQUNYRSxNQUFPekksSUFHWCxLQUFLdUcsSUFDSCxPQUFBeUMsS0FDS0gsR0FDSE4sV0FBVyxFQUNYeEUsTUFBTy9ELElBR1gsS0FBS3dHLElBQ0gsT0FBQXdDLEtBQ0tILEdBQ0hMLGVBQWUsRUFDZnpFLE1BQU8sS0FHWCxLQUFLMEMsSUFDSCxPQUFBdUMsS0FDS0gsR0FDSEwsZUFBZSxFQUNmRSxLQUFNMUksSUFHVixLQUFLMEcsSUFDSCxPQUFBc0MsS0FDS0gsR0FDSEwsZUFBZSxFQUNmekUsTUFBTy9ELElBR1gsUUFDRSxPQUFPNkksTUUzRFRJLEtBRWtCLG9CQUFYaEQsU0FDVGdELEVBQWlCaEQsT0FBT2lELHlCQUNqQmpELE9BQU9pRCxlQUdEQyxrQkFDYkMsRUFDQUgsRUFDQUksWUFBZ0JDLE1DTmxCckQsT0FBT3NELEtBQU8sV0FDWnRCLElBQVN1QixlQUFlckIsS0FBSyxXQUMzQnNCLGtCQUNFdkMsRUFBQUMsRUFBQXJFLGNBQUM0RyxFQUFBLEdBQVNDLE1BQU9BLEdBQ2Z6QyxFQUFBQyxFQUFBckUsY0FBQzhHLEVBQUEsRUFBRCxLQUNHdEMsWUFBYVEsS0FHbEJuRixTQUFTa0gsZUFBZSw0Q0NqQjlCbEksRUFBQTZDLEVBQUE0QixFQUFBLHNCQUFBaUMsSUFBQSxJQUFBeUIsRUFBQW5JLEVBQUEsR0FBQW9JLEVBQUFwSSxFQUFBK0QsRUFBQW9FLEdBRWUsU0FBU3pCLEVBQVFyQixHQUM5QixPQUFJQSxFQUFNdUIsVUFDSnZCLEVBQU1nRCxTQUNERCxFQUFBNUMsRUFBQXJFLGNBQUEsZ0NBRUxrRSxFQUFNaUQsVUFDREYsRUFBQTVDLEVBQUFyRSxjQUFBLHlCQUVGLEtBRUxrRSxFQUFNakQsTUFDRGdHLEVBQUE1QyxFQUFBckUsY0FBQSw4Q0FFRiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBzY3JpcHQgcGF0aCBmdW5jdGlvblxuIFx0ZnVuY3Rpb24ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCkge1xuIFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArICh7fVtjaHVua0lkXXx8Y2h1bmtJZCkgKyBcIi5idW5kbGUuanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRcdFx0aWYoY2h1bmsgIT09IDApIHtcbiBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbiBcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknKTtcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3QvXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMTk3LDBdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiZXhwb3J0IGNvbnN0IExPQURfR0FNRVMgPSAnZ2FtZXMvTE9BRF9HQU1FUyc7XG5leHBvcnQgY29uc3QgTE9BRF9HQU1FU19SRUNFSVZFRCA9ICdnYW1lcy9MT0FEX0dBTUVTX1JFQ0VJVkVEJztcbmV4cG9ydCBjb25zdCBMT0FEX0dBTUVTX0ZBSUxFRCA9ICdnYW1lcy9MT0FEX0dBTUVTX0ZBSUxFRCc7XG5leHBvcnQgY29uc3QgTE9BRF9HQU1FID0gJ2dhbWVzL0xPQURfR0FNRSc7XG5leHBvcnQgY29uc3QgTE9BRF9HQU1FX1JFQ0VJVkVEID0gJ2dhbWVzL0xPQURfR0FNRV9SRUNFSVZFRCc7XG5leHBvcnQgY29uc3QgTE9BRF9HQU1FX0ZBSUxFRCA9ICdnYW1lcy9MT0FEX0dBTUVfRkFJTEVEJztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXJSb3V0ZXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItY29uZmlnJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByb3V0ZTogeyByb3V0ZXMgfSB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPExpbmsgdG89XCIvXCI+R2FtZXM8L0xpbms+XG4gICAgICAgIHsgcmVuZGVyUm91dGVzKHJvdXRlcykgfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5BcHAucHJvcFR5cGVzID0ge1xuICByb3V0ZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICByb3V0ZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBwYXRoOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pKSxcbiAgfSkuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgTG9hZGFibGUgZnJvbSAncmVhY3QtbG9hZGFibGUnO1xuXG5pbXBvcnQgQXBwIGZyb20gJy4uLy4uL2NvbnRhaW5lcnMvQXBwJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uL0xvYWRpbmcnO1xuXG5jb25zdCBMb2FkYWJsZUdhbWVzID0gTG9hZGFibGUoe1xuICBsb2FkZXI6ICgpID0+IGltcG9ydCgnLi4vLi4vY29udGFpbmVycy9HYW1lcycpLFxuICBsb2FkaW5nOiBMb2FkaW5nLFxufSk7XG5cbmNvbnN0IExvYWRhYmxlR2FtZSA9IExvYWRhYmxlKHtcbiAgbG9hZGVyOiAoKSA9PiBpbXBvcnQoJy4uLy4uL2NvbnRhaW5lcnMvR2FtZScpLFxuICBsb2FkaW5nOiBMb2FkaW5nLFxufSk7XG5cblxuY29uc3Qgcm91dGVzQ29uZmlnID0gW1xuICB7XG4gICAgY29tcG9uZW50OiBBcHAsXG4gICAgcGF0aDogJy8nLFxuICAgIHJvdXRlczogW1xuICAgICAge1xuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICBjb21wb25lbnQ6IExvYWRhYmxlR2FtZXMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXRoOiAnL2dhbWUvOmlkJyxcbiAgICAgICAgY29tcG9uZW50OiBMb2FkYWJsZUdhbWUsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG5dO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXNDb25maWc7XG4iLCJpbXBvcnQge1xuICBMT0FEX0dBTUVTLFxuICBMT0FEX0dBTUVTX1JFQ0VJVkVELFxuICBMT0FEX0dBTUVTX0ZBSUxFRCxcbiAgTE9BRF9HQU1FLFxuICBMT0FEX0dBTUVfUkVDRUlWRUQsXG4gIExPQURfR0FNRV9GQUlMRUQsXG59IGZyb20gJy4uL2NvbnN0YW50cy9nYW1lcyc7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgaXNMb2FkaW5nR2FtZTogZmFsc2UsXG4gIGdhbWVzOiBbXSxcbiAgZ2FtZTogbnVsbCxcbiAgZXJyb3I6ICcnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgY29uc3QgeyB0eXBlLCBkYXRhIH0gPSBhY3Rpb247XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBMT0FEX0dBTUVTOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICBlcnJvcjogJycsXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIExPQURfR0FNRVNfUkVDRUlWRUQ6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBnYW1lczogZGF0YSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgTE9BRF9HQU1FU19GQUlMRUQ6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZGF0YSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgTE9BRF9HQU1FOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNMb2FkaW5nR2FtZTogdHJ1ZSxcbiAgICAgICAgZXJyb3I6ICcnLFxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBMT0FEX0dBTUVfUkVDRUlWRUQ6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBpc0xvYWRpbmdHYW1lOiBmYWxzZSxcbiAgICAgICAgZ2FtZTogZGF0YSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgTE9BRF9HQU1FX0ZBSUxFRDoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzTG9hZGluZ0dhbWU6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZGF0YSxcbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCc7XG5cbmltcG9ydCBnYW1lc1JlZHVjZXIgZnJvbSAnLi9nYW1lcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIGdhbWVzUmVkdWNlcixcbn0pO1xuIiwiaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjcmVhdGVTdG9yZSwgY29tcG9zZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCByZWR1eFRodW5rIGZyb20gJ3JlZHV4LXRodW5rJztcblxuaW1wb3J0IHJvb3RSZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMnO1xuXG5sZXQgcHJlbG9hZGVkU3RhdGUgPSB7fTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHByZWxvYWRlZFN0YXRlID0gd2luZG93LklOSVRJQUxfU1RBVEUgfHwge307XG4gIGRlbGV0ZSB3aW5kb3cuSU5JVElBTF9TVEFURTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoXG4gIHJvb3RSZWR1Y2VyLFxuICBwcmVsb2FkZWRTdGF0ZSxcbiAgYXBwbHlNaWRkbGV3YXJlKHJlZHV4VGh1bmspLFxuKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBMb2FkYWJsZSBmcm9tICdyZWFjdC1sb2FkYWJsZSc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHJlbmRlclJvdXRlcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1jb25maWcnO1xuaW1wb3J0IHJvdXRlc0NvbmZpZyBmcm9tICcuL2NvbXBvbmVudHMvUm91dGVyL3JvdXRlc0NvbmZpZyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnLi9yZWR1eC9zdG9yZSc7XG5cbndpbmRvdy5tYWluID0gKCkgPT4ge1xuICBMb2FkYWJsZS5wcmVsb2FkUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICBoeWRyYXRlKFxuICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIHtyZW5kZXJSb3V0ZXMocm91dGVzQ29uZmlnKX1cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgPC9Qcm92aWRlcj4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyksXG4gICAgKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9hZGluZyhwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkaW5nKSB7XG4gICAgaWYgKHByb3BzLnRpbWVkT3V0KSB7XG4gICAgICByZXR1cm4gPGRpdj5Mb2FkZXIgdGltZWQgb3V0ITwvZGl2PjtcbiAgICB9XG4gICAgaWYgKHByb3BzLnBhc3REZWxheSkge1xuICAgICAgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHByb3BzLmVycm9yKSB7XG4gICAgcmV0dXJuIDxkaXY+RXJyb3IhIENvbXBvbmVudCBmYWlsZWQgdG8gbG9hZDwvZGl2PjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=